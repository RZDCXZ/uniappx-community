{"version":3,"sources":["pages/user-space/user-space.uvue","common/socket.uts","pages/long-list/long-list-page.uvue","components/article-list-item/article-list-item.uvue","store/user.uts","pages/index/index.uvue?type=page","pages/user-space/user-space.uvue?type=page"],"sourcesContent":["<template>\r\n\t<navbar type=\"text\" :title=\"title\" right-icon=\"more\" @clickRight=\"openMore\" :showRightIcon=\"!isSelf\"></navbar>\r\n\t<head-tabs-swiper :tab-center=\"true\" :tabs=\"tabs\" @loadData=\"loadData\" @change=\"onSwiperChange\">\r\n\t\t<template v-slot:header>\r\n\t\t\t<view class=\"space-header\">\r\n\t\t\t\t<avatar :src=\"user.avatar\" width=\"162rpx\" height=\"162rpx\" style=\"margin-right: 27rpx;\"></avatar>\r\n\t\t\t\t<view class=\"flex-1\">\r\n\t\t\t\t\t<view class=\"space-data\">\r\n\t\t\t\t\t\t<view class=\"space-data-item\">\r\n\t\t\t\t\t\t\t<text class=\"space-data-value\">{{ user.articles_count }}</text>\r\n\t\t\t\t\t\t\t<text class=\"space-data-title\">帖子</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<navigator class=\"space-data-item\"\r\n\t\t\t\t\t\t\t:url=\"'/pages/user-follow-list/user-follow-list?user_id='+user.id\">\r\n\t\t\t\t\t\t\t<text class=\"space-data-value\">{{ user.follows_count }}</text>\r\n\t\t\t\t\t\t\t<text class=\"space-data-title\">关注</text>\r\n\t\t\t\t\t\t</navigator>\r\n\t\t\t\t\t\t<navigator class=\"space-data-item\"\r\n\t\t\t\t\t\t\t:url=\"'/pages/user-fans-list/user-fans-list?user_id='+user.id\">\r\n\t\t\t\t\t\t\t<text class=\"space-data-value\">{{ user.fans_count }}</text>\r\n\t\t\t\t\t\t\t<text class=\"space-data-title\">粉丝</text>\r\n\t\t\t\t\t\t</navigator>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"space-actions\" v-if=\"isSelf\">\r\n\t\t\t\t\t\t<main-btn @click=\"openUserEditInfo()\" width=\"330rpx\" height=\"65rpx\">编辑资料</main-btn>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"space-actions\" v-else>\r\n\t\t\t\t\t\t<main-btn v-if=\"isblacked\" @click=\"handleBlack()\" width=\"330rpx\" height=\"65rpx\">解除拉黑</main-btn>\r\n\t\t\t\t\t\t<follow-button v-else type=\"main-btn\" :user_id=\"user.id\" v-model=\"isfollow\"></follow-button>\r\n\t\t\t\t\t\t<view class=\"space-action-msg\" @click=\"openChat\">\r\n\t\t\t\t\t\t\t<text class=\"iconfont space-action-msg-icon\">{{ '\\ue648' }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<text class=\"space-info\">{{ user.desc == null ? \"暂无描述~\" : user.desc }}</text>\r\n\t\t\t<text class=\"space-info\">地区：{{ user.path == null ? \"未知\" : user.path }}</text>\r\n\t\t\t<view class=\"space-tags\">\r\n\t\t\t\t<text class=\"space-tag\">{{ sex }}</text>\r\n\t\t\t\t<text class=\"space-tag\">{{ user.age }}岁</text>\r\n\t\t\t\t<text class=\"space-tag\" v-if=\"user.birthday != null\">{{ user.birthday }}</text>\r\n\t\t\t</view>\r\n\t\t</template>\r\n\t\t<swiper-item class=\"flex-1\" v-for=\"(item,index) in tabs\" :key=\"index\">\r\n\t\t\t<long-page :isAdmin=\"isSelf\" ref=\"longPage\" page=\"user-space\" :id=\"'list_'+item.id\" :user_id=\"user.id\"\r\n\t\t\t\t:type=\"item.type\" :preload=\"item.preload\" @onDeleteSuccess=\"loadUserDetail\"></long-page>\r\n\t\t</swiper-item>\r\n\t</head-tabs-swiper>\r\n\r\n\t<!-- 更多弹框 -->\r\n\t<popup ref=\"popup\">\r\n\t\t<view class=\"more-popup\">\r\n\t\t\t<view class=\"more-item\" @click=\"handleBlack\">\r\n\t\t\t\t<text class=\"iconfont more-item-icon\">{{ '\\ue60a' }}</text>\r\n\t\t\t\t<text>{{ isblacked ? '解除拉黑' : '拉黑' }}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"more-item\" @click=\"openReportPopup()\">\r\n\t\t\t\t<text class=\"iconfont more-item-icon\">{{ '\\ue6f7' }}</text>\r\n\t\t\t\t<text>举报</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</popup>\r\n\r\n\t<!-- 举报弹框 -->\r\n\t<popup ref=\"reportPopup\" title=\"举报原因\" :show-cancel=\"false\" @confirm=\"confirmReport\">\r\n\t\t<radio-group name=\"reason\" style=\"height: 940rpx;width: 750rpx;\" @change=\"handleReportChange\">\r\n\t\t\t<view v-for=\"(r,ri) in reasonOptions\" :key=\"ri\">\r\n\t\t\t\t<text class=\"reason-title\">{{ r.title }}</text>\r\n\t\t\t\t<view class=\"reason-box\">\r\n\t\t\t\t\t<radio color=\"#F06487\" class=\"reason-item\" v-for=\"(s,sI) in r.list\" :key=\"sI\" :value=\"s\">\r\n\t\t\t\t\t\t<text class=\"reason-item-text\">{{ s }}</text>\r\n\t\t\t\t\t</radio>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</radio-group>\r\n\t</popup>\r\n\r\n</template>\r\n\r\n<script>\r\n\timport { UserDetail2, Result, defaultResult,Conversation } from '@/common/type.uts'\r\n\timport { getURL } from '@/common/request.uts';\r\n\timport { getToken, AuthAction, userState } from \"@/store/user.uts\"\r\n\timport { TabsSwiperItem } from \"@/components/tabs-swiper/type.uts\"\r\n\timport headTabsSwiper from \"@/components/tabs-swiper/head-tabs-swiper.uvue\"\r\n\timport longPage from '@/pages/long-list/long-list-page.uvue';\r\n\timport { getSexText } from \"@/common/utils.uts\"\r\n\r\n\t// 举报违规选项\r\n\ttype ReasonOption = {\r\n\t\ttitle : string\r\n\t\tlist : string[]\r\n\t}\r\n\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\theadTabsSwiper,\r\n\t\t\tlongPage\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttabIndex: 0,\r\n\t\t\t\ttabs: [{\r\n\t\t\t\t\t\"id\": 1,\r\n\t\t\t\t\t\"name\": \"帖子\",\r\n\t\t\t\t\t\"type\": \"article\",\r\n\t\t\t\t\t\"preload\": false\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"id\": 2,\r\n\t\t\t\t\t\"name\": \"评论\",\r\n\t\t\t\t\t\"type\": \"comment\",\r\n\t\t\t\t\t\"preload\": false\r\n\t\t\t\t}] as TabsSwiperItem[],\r\n\r\n\t\t\t\ttitle: \"个人空间\",\r\n\t\t\t\tisfollow: false,\r\n\t\t\t\tisblacked: false,\r\n\r\n\t\t\t\tuser: {\r\n\t\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\t\"id\": 0,\r\n\t\t\t\t\t\"avatar\": \"\",\r\n\t\t\t\t\t\"status\": 1,\r\n\t\t\t\t\t\"age\": 0,\r\n\t\t\t\t\t\"sex\": 0,\r\n\t\t\t\t\t\"qg\": 0,\r\n\t\t\t\t\t\"job\": null,\r\n\t\t\t\t\t\"path\": null,\r\n\t\t\t\t\t\"birthday\": null,\r\n\t\t\t\t\t\"desc\": null,\r\n\t\t\t\t\t\"fans_count\": 0,\r\n\t\t\t\t\t\"follows_count\": 0,\r\n\t\t\t\t\t\"articles_count\": 0,\r\n\t\t\t\t\t\"comments_count\": 0,\r\n\t\t\t\t\t\"isfollow\": false,\r\n\t\t\t\t\t\"isblacked\": false\r\n\t\t\t\t} as UserDetail2,\r\n\r\n\t\t\t\tpopup: null as ComponentPublicInstance | null,\r\n\t\t\t\treportPopup: null as ComponentPublicInstance | null,\r\n\r\n\t\t\t\treasonContent: \"\",\r\n\t\t\t\treasonOptions: [{\r\n\t\t\t\t\ttitle: \"违规\",\r\n\t\t\t\t\tlist: [\"低俗色情\", \"侮辱谩骂\", \"违法行为\", \"政治敏感\", \"垃圾广告\", \"未成年人有害行为\"]\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttitle: \"不友善\",\r\n\t\t\t\t\tlist: [\"不尊重女性\", \"引战、制造冲突\", \"恶意诋毁\", \"刷水/骗赞\", \"感官不适\"]\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttitle: \"个人信息问题\",\r\n\t\t\t\t\tlist: [\"头像/昵称/签名违规\", \"冒充官号/其他用户\"]\r\n\t\t\t\t}] as ReasonOption[],\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tsex() : string {\r\n\t\t\t\treturn getSexText(this.user.sex)\r\n\t\t\t},\r\n\t\t\t// 是否是登录者本人\r\n\t\t\tisSelf() : boolean {\r\n\t\t\t\treturn this.user.id === userState.id\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(options : OnLoadOptions) {\r\n\t\t\tif (options.has(\"user_id\")) {\r\n\t\t\t\tconst uid = parseInt(options.get(\"user_id\") as string)\r\n\t\t\t\tthis.user.id = uid\r\n\t\t\t}\r\n\t\t\tthis.loadUserDetail()\r\n\t\t\tuni.$on(\"onUpdateInfoSuccess\", this.onUpdateInfoSuccess)\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\tuni.$off(\"onUpdateInfoSuccess\", this.onUpdateInfoSuccess)\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\tthis.popup = this.$refs[\"popup\"] as ComponentPublicInstance\r\n\t\t\tthis.reportPopup = this.$refs[\"reportPopup\"] as ComponentPublicInstance\r\n\t\t},\r\n\t\tonPullDownRefresh() {\r\n\t\t\tthis.refreshData(() => {\r\n\t\t\t\tuni.stopPullDownRefresh()\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 发起聊天\r\n\t\t\topenChat() {\r\n\t\t\t\tAuthAction(() => {\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle: '发起聊天中...',\r\n\t\t\t\t\t\tmask: true\r\n\t\t\t\t\t});\r\n\t\t\t\t\tuni.request<Result<Conversation>>({\r\n\t\t\t\t\t\turl: getURL(\"/im/create_conversation\"),\r\n\t\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\ttoken: getToken()\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\ttarget_id: this.user.id\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tlet r = res.data\r\n\t\t\t\t\t\t\tif (r == null) return\r\n\t\t\t\t\t\t\tif (res.statusCode != 200) {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: r.msg,\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif(r.data == null) return\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet resData = r.data as Conversation\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// 通知消息页 更新 会话列表数据\r\n\t\t\t\t\t\t\tuni.$emit(\"onUpdateConversation\", resData)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\turl: `/pages/chat/chat?id=${resData.id}&target_id=${resData.target_id}&title=${resData.name}`\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: err.errMsg,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonUpdateInfoSuccess(_ : string) {\r\n\t\t\t\tthis.loadUserDetail()\r\n\t\t\t\tthis.refreshData(null)\r\n\t\t\t},\r\n\t\t\topenUserEditInfo() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/user-editinfo/user-editinfo'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thandleReportChange(e : UniRadioGroupChangeEvent) {\r\n\t\t\t\tthis.reasonContent = e.detail.value\r\n\t\t\t},\r\n\t\t\t// 提交举报事件\r\n\t\t\tconfirmReport() {\r\n\t\t\t\tAuthAction(() => {\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle: '提交中...',\r\n\t\t\t\t\t\tmask: true\r\n\t\t\t\t\t});\r\n\t\t\t\t\tuni.request<defaultResult>({\r\n\t\t\t\t\t\turl: getURL(`/report/save`),\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\ttoken: getToken()\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\treport_uid: this.user.id,\r\n\t\t\t\t\t\t\tcontent: this.reasonContent\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\tlet r = res.data\r\n\t\t\t\t\t\t\tif (r == null) return\r\n\t\t\t\t\t\t\tif (res.statusCode != 200) {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: r.msg,\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: r.msg,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: err.errMsg,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tthis.reportPopup?.$callMethod(\"close\")\r\n\t\t\t\t\t\t\t}, 400)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 打开举报弹框\r\n\t\t\topenReportPopup() {\r\n\t\t\t\tthis.popup?.$callMethod(\"close\")\r\n\t\t\t\tthis.reportPopup?.$callMethod(\"open\")\r\n\t\t\t},\r\n\t\t\trefreshData(loadComplete : (() => void) | null) {\r\n\t\t\t\t(this.$refs[\"longPage\"] as ComponentPublicInstance[])[this.tabIndex].$callMethod(\"refreshData\", loadComplete)\r\n\t\t\t},\r\n\t\t\thandleBlack() {\r\n\t\t\t\tthis.popup?.$callMethod(\"close\")\r\n\t\t\t\tif (this.isblacked) {\r\n\t\t\t\t\tthis.doBlack()\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '确定拉黑用户？',\r\n\t\t\t\t\tcontent: '拉黑后用户不能关注你，给你评论及@你，你也将不会再推荐此用户内容',\r\n\t\t\t\t\tconfirmText: '直接拉黑',\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tthis.doBlack()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tdoBlack() {\r\n\t\t\t\tAuthAction(() => {\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle: '操作中...',\r\n\t\t\t\t\t\tmask: true\r\n\t\t\t\t\t});\r\n\t\t\t\t\tlet action = !this.isblacked ? \"add_blacklist\" : \"remove_blacklist\"\r\n\t\t\t\t\tuni.request<defaultResult>({\r\n\t\t\t\t\t\turl: getURL(`/${action}/${this.user.id}`),\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\ttoken: getToken()\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\tlet r = res.data\r\n\t\t\t\t\t\t\tif (r == null) return\r\n\t\t\t\t\t\t\tif (res.statusCode != 200) {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: r.msg,\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// 修改拉黑状态\r\n\t\t\t\t\t\t\tthis.isblacked = !this.isblacked\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: r.msg,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t// 刷新列表数据\r\n\t\t\t\t\t\t\tthis.refreshData(null)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: err.errMsg,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\topenMore() {\r\n\t\t\t\tthis.popup?.$callMethod(\"open\")\r\n\t\t\t},\r\n\t\t\t// 获取用户详情\r\n\t\t\tloadUserDetail() {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '加载中...',\r\n\t\t\t\t\tmask: false\r\n\t\t\t\t});\r\n\t\t\t\tuni.request<Result<UserDetail2>>({\r\n\t\t\t\t\turl: getURL(`/user_info/${this.user.id}`),\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t\ttoken: getToken()\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tlet r = res.data\r\n\t\t\t\t\t\tif (r == null) return\r\n\t\t\t\t\t\tif (res.statusCode != 200) {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: r.msg,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.user = r.data as UserDetail2\r\n\t\t\t\t\t\tif (this.user.name != null) {\r\n\t\t\t\t\t\t\tthis.title = this.user.name as string\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.isfollow = this.user.isfollow as boolean\r\n\t\t\t\t\t\tthis.isblacked = this.user.isblacked as boolean\r\n\r\n\t\t\t\t\t\tthis.loadData(this.tabIndex)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: err.errMsg,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t}, 200);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 加载数据时调用\r\n\t\t\tloadData(index : number) {\r\n\t\t\t\t(this.$refs[\"longPage\"] as ComponentPublicInstance[])[index].$callMethod(\"loadData\", null)\r\n\t\t\t},\r\n\t\t\t// 切换tab时调用\r\n\t\t\tonSwiperChange(i : number) {\r\n\t\t\t\tthis.tabIndex = i\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.space-header {\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tpadding: 35rpx;\r\n\t}\r\n\r\n\t.space-data {\r\n\t\tflex-direction: row;\r\n\t\tmargin-bottom: 25rpx;\r\n\t}\r\n\r\n\t.space-data-item {\r\n\t\tflex: 1;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.space-data-value {\r\n\t\tfont-size: 22px;\r\n\t\tcolor: #070707;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.space-data-title {\r\n\t\tfont-size: 13px;\r\n\t\tcolor: #101010;\r\n\t}\r\n\r\n\t.space-actions {\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.space-action-msg {\r\n\t\twidth: 65rpx;\r\n\t\theight: 65rpx;\r\n\t\tborder-radius: 5px;\r\n\t\tborder: 1rpx solid #dedede;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tmargin-left: 10rpx;\r\n\t}\r\n\r\n\t.space-action-msg-icon {\r\n\t\tfont-size: 20px;\r\n\t\tcolor: #535353;\r\n\t}\r\n\r\n\t.space-info {\r\n\t\tpadding: 0 35rpx;\r\n\t\tmargin-top: 15rpx;\r\n\t\tline-height: 1.5;\r\n\t\tfont-size: 15px;\r\n\t\tcolor: #8e8e90;\r\n\t}\r\n\r\n\t.space-tags {\r\n\t\tflex-direction: row;\r\n\t\tpadding: 0 35rpx;\r\n\t\tmargin-top: 15rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\r\n\t.space-tag {\r\n\t\tfont-size: 12px;\r\n\t\tborder: 1rpx solid #e0e0e0;\r\n\t\tborder-radius: 50px;\r\n\t\tpadding: 10rpx 20rpx;\r\n\t\tmargin-right: 10rpx;\r\n\t}\r\n\r\n\t.more-popup {\r\n\t\theight: 230rpx;\r\n\t\tbackground-color: #f4f4f4;\r\n\t\tflex-direction: row;\r\n\t}\r\n\r\n\t.more-item {\r\n\t\tflex: 1;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.more-item-icon {\r\n\t\tfont-size: 25px;\r\n\t\tmargin-bottom: 25rpx;\r\n\t\tbackground-color: #ffffff;\r\n\t\twidth: 100rpx;\r\n\t\theight: 100rpx;\r\n\t\ttext-align: center;\r\n\t\tline-height: 100rpx;\r\n\t\tborder-radius: 50px;\r\n\t\tcolor: #5a5a5a;\r\n\t}\r\n\r\n\t.reason-title {\r\n\t\tfont-size: 15px;\r\n\t\tmargin: 35rpx 30rpx;\r\n\t\tcolor: #828282;\r\n\t}\r\n\r\n\t.reason-box {\r\n\t\tflex-direction: row;\r\n\t\tflex-wrap: wrap;\r\n\t}\r\n\r\n\t.reason-item {\r\n\t\twidth: 375rpx;\r\n\t\tflex-direction: row;\r\n\t\tpadding-left: 30rpx;\r\n\t\tpadding-bottom: 35rpx;\r\n\t}\r\n\r\n\t.reason-item-text {\r\n\t\tmargin-left: 10rpx;\r\n\t\twidth: 260rpx;\r\n\t}\r\n</style>",null,null,null,null,null,null],"names":[],"mappings":"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"}