{"version":3,"sources":["components/article-list-item/article-list-item.uvue","common/socket.uts","store/user.uts"],"sourcesContent":["<template>\r\n\t<!-- 头部 -->\n\t<view class=\"list-item-header\" @click.stop=\"openDetail\">\n\t\t<avatar :src=\"item.avatar\" style=\"margin-right: 27rpx;\" @click.stop=\"openUserSpace\"></avatar>\r\n\t\t<view>\r\n\t\t\t<text class=\"nickname\" @click.stop=\"openUserSpace\">{{ item.name }}</text>\r\n\t\t\t<text class=\"time\">{{ item.create_time }} · {{ read_count }}次阅读</text>\r\n\t\t</view>\r\n\t\t<text class=\"iconfont delete-icon\" v-if=\"isAdmin\" @click.stop=\"deleteItem\">{{ '\\ue605' }}</text>\r\n\t\t<follow-button v-else v-model=\"isfollow\" :user_id=\"item.user_id\"></follow-button>\n\t</view>\r\n\t<!-- 文字内容 -->\r\n\t<text class=\"content\" @click.stop=\"openDetail\">{{ item.title }}</text>\r\n\t\r\n\t<!-- 图片，单图，双图，多图 -->\r\n\t<view class=\"content-media\" @click.stop=\"openDetail\">\r\n\t\t<image v-for=\"(img,imgI) in item.images\" :key=\"imgI\" :src=\"img\" :fade-show=\"true\" mode=\"aspectFill\" class=\"content-image\" :class=\"imageClass\"></image>\r\n\t</view>\r\n\t\r\n\t<!-- 所属话题 -->\r\n\t<view class=\"topic-tag\" v-if=\"item.topic_name != null\" @click.stop=\"openTopicDetail\">\r\n\t\t<text class=\"topic-tag-icon\">#</text>\r\n\t\t<text class=\"topic-tag-title\">{{ item.topic_name }}</text>\r\n\t\t<text class=\"iconfont topic-tag-more\">{{ '\\ue60c' }}</text>\r\n\t</view>\r\n\t\r\n\t<!-- 操作按钮 -->\r\n\t<view class=\"actions\">\r\n\t\t<icon-btn label=\"赞\" :icon=\"'\\ue6eb'\" :count=\"ding_count\" :active=\"action == 'ding'\" @click=\"handleSupport('ding')\"></icon-btn>\r\n\t\t<icon-btn label=\"踩\" :icon=\"'\\ue701'\" :count=\"cai_count\" :active=\"action == 'cai'\" @click=\"handleSupport('cai')\"></icon-btn>\r\n\t\t<icon-btn label=\"评论\" :icon=\"'\\ue648'\" :count=\"comment_count\" @click=\"openDetail\"></icon-btn>\r\n\t\t<icon-btn label=\"分享\" :icon=\"'\\ue633'\" :count=\"item.share_count\" @click=\"openDetail\"></icon-btn>\r\n\t</view>\r\n\t\r\n\t<view class=\"divider\"></view>\r\n\t\n</template>\n\n<script>\r\n\timport { PropType } from \"vue\"\r\n\timport { ListItem,defaultResult,updateSupportEvent,updateArticleChangeEvent } from \"@/common/type.uts\"\r\n\timport { stepInt } from \"@/common/utils.uts\"\n\timport { getURL } from \"@/common/request.uts\"\n\timport { getToken,AuthAction } from \"@/store/user.uts\"\n\texport default {\r\n\t\temits:[\"onDeleteSuccess\"],\n\t\tname:\"article-list-item\",\n\t\tprops: {\r\n\t\t\titem: {\r\n\t\t\t\ttype: Object as PropType<ListItem>,\r\n\t\t\t\trequired:true \r\n\t\t\t},\r\n\t\t\tinTopicDetail:{\r\n\t\t\t\ttype:Boolean,\r\n\t\t\t\tdefault:false\r\n\t\t\t},\r\n\t\t\tinUserSpace: {\r\n\t\t\t\ttype:Boolean,\r\n\t\t\t\tdefault:false\r\n\t\t\t},\r\n\t\t\tisAdmin: {\r\n\t\t\t\ttype:Boolean,\r\n\t\t\t\tdefault:false\r\n\t\t\t},\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tisfollow: false,\r\n\t\t\t\taction:\"\",\r\n\t\t\t\tding_count:0,\r\n\t\t\t\tding_loading:false,\r\n\t\t\t\tcai_count:0,\r\n\t\t\t\tcai_loading:false,\r\n\t\t\t\tread_count:0,\r\n\t\t\t\tcomment_count:0\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\tthis.isfollow = this.item.isfollow\r\n\t\t\tthis.action = this.item.user_support_action\r\n\t\t\tthis.ding_count = this.item.ding_count\r\n\t\t\tthis.cai_count = this.item.cai_count\r\n\t\t\tthis.read_count = this.item.read_count\r\n\t\t\tthis.comment_count = this.item.comment_count\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\timageClass(): string {\r\n\t\t\t\tconst count = this.item.images.length\r\n\t\t\t\tif(count == 1){\r\n\t\t\t\t\treturn \"one-image\"\r\n\t\t\t\t} else if(count == 2){\r\n\t\t\t\t\treturn \"two-image\"\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn \"more-image\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.isfollow = this.item.isfollow\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tdeleteItem(){\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '',\r\n\t\t\t\t\tcontent: '是否要删除该帖子？',\r\n\t\t\t\t\tconfirmText: '删除',\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tif(!res.confirm){\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\ttitle: '删除中...',\r\n\t\t\t\t\t\t\tmask: true\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tuni.request<defaultResult>({\r\n\t\t\t\t\t\t\turl: getURL(`/article/delete/${this.item.id}`),\r\n\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t\ttoken:getToken()\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\tlet r = res.data\r\n\t\t\t\t\t\t\t\tif(r == null) return\r\n\t\t\t\t\t\t\t\tif(res.statusCode !=200){\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: r.msg,\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: r.msg,\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tthis.$emit(\"onDeleteSuccess\")\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: err.errMsg,\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\topenUserSpace(){\r\n\t\t\t\tif(this.inUserSpace){\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/user-space/user-space?user_id=' + this.item.user_id\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 更新评论数\r\n\t\t\tupdateCommentCount(count:number){\r\n\t\t\t\tthis.comment_count = count\r\n\t\t\t},\r\n\t\t\t// 更新阅读数\r\n\t\t\tupdateReadCount(count:number){\r\n\t\t\t\tthis.read_count = count\r\n\t\t\t},\r\n\t\t\topenTopicDetail(){\r\n\t\t\t\tif(this.inTopicDetail){\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/topic-detail/topic-detail?id='+this.item.topic_id\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\topenDetail(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/detail/detail?id='+this.item.id\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 更新isfollow\r\n\t\t\tupdateFollow(value:boolean) {\r\n\t\t\t\tthis.isfollow = value\r\n\t\t\t},\r\n\t\t\t// 更新顶踩情况\r\n\t\t\tupdateSupport(e:updateSupportEvent){\r\n\t\t\t\tthis.action = e.action\r\n\t\t\t\tthis.ding_count = e.ding_count\r\n\t\t\t\tthis.cai_count = e.cai_count \r\n\t\t\t},\r\n\t\t\t// 顶踩\r\n\t\t\thandleSupport(type : 'ding' | 'cai'){\r\n\t\t\t\tAuthAction(()=>{\r\n\t\t\t\t\tif(this.ding_loading || this.cai_loading){\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(type == \"ding\"){\r\n\t\t\t\t\t\tthis.ding_loading = true\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.cai_loading = true\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuni.request<defaultResult>({\r\n\t\t\t\t\t\turl: getURL(`/support/${type}/${this.item.id}`),\r\n\t\t\t\t\t\tmethod:\"POST\",\r\n\t\t\t\t\t\theader:{\r\n\t\t\t\t\t\t\ttoken:getToken()\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tlet r = res.data\r\n\t\t\t\t\t\t\tif(r == null) return\r\n\t\t\t\t\t\t\tif(res.statusCode !=200){\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: r.msg,\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// 之前没有操作过\r\n\t\t\t\t\t\t\tif(this.action == \"\"){\r\n\t\t\t\t\t\t\t\tif(type == \"ding\"){\r\n\t\t\t\t\t\t\t\t\tthis.ding_count = stepInt(this.ding_count)\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthis.cai_count = stepInt(this.cai_count)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.action = type\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// 之前操作过，操作一致，取消之前操作\r\n\t\t\t\t\t\t\telse if(this.action == type){\r\n\t\t\t\t\t\t\t\tif(type == \"ding\"){\r\n\t\t\t\t\t\t\t\t\tthis.ding_count = stepInt(this.ding_count,\"-\")\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthis.cai_count = stepInt(this.cai_count,\"-\")\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.action = \"\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// 之前操作，操作不一致\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tif(type == \"ding\"){\r\n\t\t\t\t\t\t\t\t\tthis.ding_count = stepInt(this.ding_count)\r\n\t\t\t\t\t\t\t\t\tthis.cai_count = stepInt(this.cai_count,\"-\")\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthis.cai_count = stepInt(this.cai_count)\r\n\t\t\t\t\t\t\t\t\tthis.ding_count = stepInt(this.ding_count,\"-\")\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.action = type\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// 全局通知\r\n\t\t\t\t\t\t\tuni.$emit(\"onUpdateArticleChange\",{\r\n\t\t\t\t\t\t\t\t// 帖子ID\r\n\t\t\t\t\t\t\t\tid:this.item.id,\r\n\t\t\t\t\t\t\t\t// 事件标识\r\n\t\t\t\t\t\t\t\tkey:\"updateSupport\",\r\n\t\t\t\t\t\t\t\t// 转成string，方便后期其他事件传递其他参数\r\n\t\t\t\t\t\t\t\tvalue: JSON.stringify({\r\n\t\t\t\t\t\t\t\t\tding_count:this.ding_count,\r\n\t\t\t\t\t\t\t\t\tcai_count:this.cai_count,\r\n\t\t\t\t\t\t\t\t\taction:this.action\r\n\t\t\t\t\t\t\t\t} as updateSupportEvent)\r\n\t\t\t\t\t\t\t} as updateArticleChangeEvent)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: err.errMsg,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\t\tthis.ding_loading = false\r\n\t\t\t\t\t\t\tthis.cai_loading = false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\n\t}\n</script>\n\n<style>\n/* 头部 */\r\n.list-item-header {\r\n\tflex-direction: row;\r\n\talign-items: center;\r\n\tpadding-top: 26rpx;\r\n\tpadding-left: 33rpx;\r\n\tpadding-right: 33rpx;\r\n}\r\n\r\n.time {\r\n\tfont-size: 13px;\r\n\tcolor: #a7a7a7;\r\n\tmargin-top: 10rpx;\r\n}\r\n.nickname {\r\n\tcolor: #050505;\r\n\ttext-overflow: ellipsis;\r\n\tmax-width: 240rpx;\r\n\theight: 34rpx;\r\n\tfont-size: 15px;\r\n\tfont-weight: bold;\r\n}\r\n.content {\r\n\tpadding-top: 25rpx;\r\n\tpadding-left: 33rpx;\r\n\tpadding-right: 33rpx;\r\n\tfont-size: 16px;\r\n\tline-height: 1.5;\r\n}\r\n.content-media {\r\n\tflex-direction: row;\r\n\tflex-wrap: wrap;\r\n\t/* margin-top: 17rpx; */\r\n\tpadding-left: 10rpx;\r\n}\r\n.content-image {\r\n\tmargin-top: 10rpx;\r\n\tmargin-right: 10rpx;\r\n\tbackground-color: #f0f0f0;\r\n}\r\n.one-image {\r\n\twidth: 730rpx;\r\n\theight: 730rpx;\r\n}\r\n.two-image {\r\n\twidth: 360rpx;\r\n\theight: 360rpx;\r\n}\r\n.more-image {\r\n\theight: 236rpx;\r\n\twidth: 236rpx;\r\n}\r\n.topic-tag {\r\n\tflex-direction: row;\r\n\tmargin: 0 30rpx;\r\n\tbackground-color: #fff3f7;\r\n\tborder-radius: 50px;\r\n\tpadding: 8rpx 20rpx;\r\n\talign-items: center;\r\n\tmargin-top: 25rpx;\r\n\talign-self: flex-start;\r\n}\r\n.topic-tag-icon {\r\n\tfont-weight: bold;\r\n\tmargin: 0 10rpx;\r\n\tfont-size: 18px;\r\n\tcolor: #fb5e7d;\r\n}\r\n.topic-tag-title {\r\n\tcolor: #000000;\r\n\tfont-size: 14px;\r\n}\r\n.actions {\r\n\tflex-direction: row;\r\n\talign-items: center;\r\n\theight: 105rpx;\r\n}\r\n.delete-icon {\r\n\tmargin-left: auto;\r\n\tpadding: 10rpx;\r\n\tcolor: #999999;\r\n}\n</style>",null,null],"names":[],"mappings":"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"}